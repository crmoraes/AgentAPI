```mermaid
flowchart LR

  %% =========================
  %% EXPERIENCE / CHANNEL LAYER
  %% =========================
  subgraph Edge["User & Channel Layer"]
    SFUI["Salesforce Core UIs (Sales / Service / Platform Apps)"]
    ExpCloud["Experience Cloud Sites / Portals"]
    Slack["Slack / Chat Interfaces"]
    Email["Email / Digital Engagement"]
  end

  %% =========================
  %% AGENTIC INTELLIGENCE LAYER
  %% =========================
  subgraph Agentic["Agentic Intelligence Layer (Einstein 1 + Agentforce)"]
    Copilot["Einstein Copilot (Natural Language Interface)"]
    Agentforce["Agentforce / Atlas Reasoning Engine"]
    ToolRouter["Tool & Skill Orchestrator (Tool-Calling / Policies)"]

    subgraph AgentTools["Agent Tools (within Salesforce)"]
      ToolDC["Tool: Data Cloud Query / Data Graph"]
      ToolVec["Tool: Vector Search (Semantic Memory)"]
      ToolInsights["Tool: Insight Retrieval & Ranking"]
      ToolFlow["Tool: Salesforce Flow / Automation"]
      ToolApex["Tool: Apex / Platform Services"]
      ToolAnalytics["Tool: CRM Analytics / Tableau Queries"]
      ToolExtAPI["Tool: External APIs / Webhooks"]
    end
  end

  %% =========================
  %% UNIFIED KNOWLEDGE & DATA CLOUD
  %% =========================
  subgraph USM["Unified Knowledge & Data Cloud Layer (USM Core)"]
    subgraph DC["Data Cloud"]
      DCIngest["Data Cloud Ingestion & Connectors"]
      DCLake["Data Lakehouse / Data Space"]
      DMO["Data Model Objects (Profiles, Accounts, Products, Vendors)"]
      DCGraph["Data Graphs (Customer 360, Dependencies, Journeys)"]
      DCVector["Vector Database (Docs, Tickets, Transcripts, Notes)"]
    end

    subgraph Knowledge["Knowledge & Insight System"]
      KGConcept["Semantic Concepts & Topics (e.g. NA Growth, Pricing Friction)"]
      Insight["Insight Objects (Risks, Blind Spots, Hypotheses, Trends)"]
      Contradiction["Conflict / Contradiction Records"]
    end
  end

  %% =========================
  %% SALESFORCE OPERATIONAL CLOUDS
  %% =========================
  subgraph SFApps["Operational Systems (Full Salesforce Stack)"]
    SalesCloud["Sales Cloud (Opportunities, Forecasts)"]
    ServiceCloud["Service Cloud (Cases, SLAs, Knowledge Articles)"]
    MktCloud["Marketing Cloud / Journeys"]
    Commerce["Commerce Cloud (Orders, Carts)"]
    PlatformApp["Custom Platform Apps (Objects, Apex, Flows)"]
    Analytics["CRM Analytics / Tableau Dashboards"]
  end

  %% =========================
  %% EXTERNAL ENTERPRISE SOURCES
  %% =========================
  subgraph ExtSrc["External & Non-SF Enterprise Sources"]
    Confluence["Confluence / Internal Wiki"]
    GDrive["Google Drive / SharePoint / Box"]
    Jira["Jira / Issue Tracking"]
    Logs["Product Usage Logs / Data Warehouse"]
    VendorSys["Vendor / Billing / Contracts Systems"]
    RegFeeds["Regulatory / News / External Signals"]
  end

  %% =========================
  %% INTEGRATION & SEMANTIC ENRICHMENT
  %% =========================
  subgraph Integr["Integration, ETL & Optional External Semantics"]
    Mule["MuleSoft / iPaaS / APIs"]
    ETL["ETL & Data Prep (Data Cloud Pipelines / External ETL)"]
    ExtML["Optional External ML / LLM Services (NER, Relations, Events)"]
    ExtKG["Optional External Knowledge Graph (Neo4j / Neptune)"]
    ExtVec["Optional External Vector Store (Qdrant / Weaviate)"]
  end

  %% =========================
  %% PLATFORM SERVICES
  %% =========================
  subgraph Platform["Platform Services"]
    Auth["Identity & Access (SSO / OAuth / SAML)"]
    Sec["Security, Sharing & Object-Level / Row-Level ACLs"]
    Audit["Audit / Data Lineage / Compliance"]
    Obs["Observability (Logs, Metrics, Traces)"]
  end

  %% =========================
  %% FLOWS: EXPERIENCE -> AGENTS -> KNOWLEDGE -> ACTION
  %% =========================

  %% USERS ENTER VIA ANY CHANNEL
  SFUI --> Copilot
  ExpCloud --> Copilot
  Slack --> Copilot
  Email --> Copilot

  %% COPILOT HANDS OFF TO AGENTFORCE
  Copilot --> Agentforce
  Agentforce --> ToolRouter

  %% AGENTFORCE CALLS TOOLS (KNOWLEDGE + ACTION)
  ToolRouter --> ToolDC
  ToolRouter --> ToolVec
  ToolRouter --> ToolInsights
  ToolRouter --> ToolAnalytics
  ToolRouter --> ToolFlow
  ToolRouter --> ToolApex
  ToolRouter --> ToolExtAPI

  %% TOOLS REACH INTO DATA CLOUD / KNOWLEDGE SYSTEM
  ToolDC --> DCGraph
  ToolDC --> DMO
  ToolVec --> DCVector
  ToolInsights --> Insight
  ToolAnalytics --> Analytics

  %% OPERATIONAL CLOUDS FEED DATA CLOUD
  SalesCloud --> DCIngest
  ServiceCloud --> DCIngest
  MktCloud --> DCIngest
  Commerce --> DCIngest
  PlatformApp --> DCIngest
  Analytics --> DCIngest

  %% EXTERNAL SOURCES FEED DATA CLOUD & KNOWLEDGE
  Confluence --> Mule --> DCIngest
  GDrive --> Mule --> DCIngest
  Jira --> Mule --> DCIngest
  Logs --> Mule --> DCIngest
  VendorSys --> Mule --> DCIngest
  RegFeeds --> Mule --> DCIngest

  %% DATA CLOUD INTERNAL PIPELINES
  DCIngest --> DCLake
  DCLake --> DMO
  DMO --> DCGraph
  DCLake --> DCVector

  %% SEMANTIC ENRICHMENT / OPTIONAL EXTERNAL LAYERS
  DCLake --> ETL --> ExtML
  ExtML --> ExtKG
  ExtML --> ExtVec
  ExtKG --> DCGraph
  ExtVec --> DCVector

  %% KNOWLEDGE SYSTEM BUILT ON TOP OF DATA CLOUD
  DCGraph --> KGConcept
  DCVector --> KGConcept
  KGConcept --> Insight
  Insight --> Contradiction
  DCGraph --> Insight

  %% AGENTFORCE CONSUMES INSIGHTS AS A TOOL
  Insight --> ToolInsights
  ToolInsights --> Agentforce

  %% AGENTFORCE DRIVES ACTION BACK INTO SALESFORCE
  ToolFlow --> SalesCloud
  ToolFlow --> ServiceCloud
  ToolFlow --> PlatformApp
  ToolApex --> PlatformApp
  ToolExtAPI --> ExtSrc

  %% PLATFORM SERVICES APPLY EVERYWHERE
  Auth --> Edge
  Auth --> SFApps
  Auth --> Agentic

  Sec --> SFApps
  Sec --> DC
  Sec --> Knowledge

  Audit --> DC
  Audit --> Integr
  Audit --> Agentic

  Obs --> Agentic
  Obs --> DC
  Obs --> SFApps
  Obs --> Integr
